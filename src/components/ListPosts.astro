---
import type { MDXInstance } from "astro";

import type { Post } from "@models/post";
import sortByDate from "@utils/sortByDate";
import CardPostItem from "@components/CardPostItem.astro";

interface Props {
  posts: MDXInstance<Post>[];
}

const { posts = [] } = Astro.props as Props;

const postsSorted = sortByDate(posts);
---

<ul role="list" class="post-card-grid">
  {
    postsSorted.map((post) => (
      <CardPostItem
        title={post.frontmatter.title}
        href={post.url ?? ""}
        date={post.frontmatter.date}
      />
    ))
  }
</ul>
<style>
  .post-card-grid {
    display: grid;
    gap: 1rem;
    padding: 0;
  }
</style>
